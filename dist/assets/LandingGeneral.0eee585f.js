import{A as a,r as e,o as l,a as s,c as n,b as c,w as t,v as d,d as o,e as r,F as i,f as u,t as v,u as p,g as b,_ as m,h as g,i as f}from"./index.acabe0f6.js";import{b as y,i as h}from"./publicEndpoints.715077ac.js";function _(a,e=2){return(a/1).toFixed(e).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}const w={class:"container-fluid",id:"buscador-cnt"},k={class:"row align-items-center justify-content-center d-none d-sm-flex"},x={class:"col-12 col-md-10 col-lg-8"},j={class:"card mb-1 p-0"},B=c("div",{class:"card-header p-4"},[c("h4",null,"Buscá tu precio "),c("small",null,"Ingrese el nombre del producto que desea consultar:")],-1),N={class:"card-body p-4"},q={class:"input-group mb-3"},C=["onKeyup"],K={class:"row align-items-center justify-content-center"},P={class:"col-12 col-md-10 col-lg-8"},z={class:"card mb-1 p-0"},A=c("div",{class:"card-header p-4 pb-0"},[c("h4",null,"Resultados")],-1),E={class:"card-body p-4"},F={key:0,class:"alert alert-info"},G={class:"card-header p-4 pt-0 pb-0"},I={class:"row align-items-center justify-content-center"},O={class:"col-12 col-sm-4 price-cont"},T={class:"col-12 col-sm-8 product-name-cont"},U={class:"card-body p-4"},V={class:"pb-1 mb-0 mt-0"},L=c("b",null,"Actualizado el:",-1),M={class:"pb-1 mb-0 mt-0"},R=c("b",null,"Comercio:",-1),S={class:"row align-items-center justify-content-center"},$={class:"col-12 col-md-10 col-lg-8"},D={class:"card mb-1 p-0"},H=c("div",{class:"card-header p-4 pb-0"},[c("h4",null,"Estadísticas Generales")],-1),J={class:"card-body p-4"},Q={key:0,class:"row"},W={class:"row"},X={class:"col-12 col-md-6 col-lg-auto"},Y={class:"col-12 col-md-6 col-lg-auto"},Z={__name:"BusquedayCarga",setup(m,{expose:g}){g({buscar:la});const f=a(),Z=e(""),aa=e([]),ea=e([]);async function la(a=void 0){if(null!=a&&(Z.value=a),""===Z.value)return f.mostrar_alerta("Por favor, ingrese el nombre del producto."),!1;aa.value=[],f.loading=!0;let e=await y(Z.value);return e?(f.loading=!1,(null==e?void 0:e.error)?(f.mostrar_alerta("Ocurrio un error, re-intente más tarde."),!1):(aa.value=(null==e?void 0:e.items)?e.items:[],!0)):(f.loading=!1,!1)}async function sa(){await la(Z.value)}return l((async()=>{await async function(){f.loading=!0;let a=await h();if(a){if(f.loading=!1,null==a?void 0:a.error)return f.mostrar_alerta("Ocurrio un error al cargar las estadísticas"),!1;ea.value=null==a?void 0:a.items}else f.loading=!1}()})),(a,e)=>(s(),n("div",w,[c("div",k,[c("div",x,[c("div",j,[B,c("div",N,[c("div",q,[t(c("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>Z.value=a),type:"text",class:"form-control",placeholder:"Nombre del producto",onKeyup:o(sa,["enter"])},null,40,C),[[d,Z.value]]),c("div",{class:"input-group-append"},[c("button",{onClick:la,class:"btn btn-primary",type:"button"},"Buscar")])])])])])]),c("div",K,[c("div",P,[c("div",z,[A,c("div",E,[0==aa.value.length?(s(),n("div",F," No hay resultados, pruebe con otro término de búsqueda. ")):r("",!0),0!=aa.value.length?(s(!0),n(i,{key:1},u(aa.value,(a=>{var e,l;return s(),n("div",{key:a.producto,class:"card mb-1 p-0"},[c("div",G,[c("div",I,[c("div",O," $ "+v(p(_)(null==a?void 0:a.price)),1),c("div",T,v(null==(e=null==a?void 0:a.products)?void 0:e.name),1)])]),c("div",U,[c("p",V,[L,b(" "+v(null==a?void 0:a.date_time),1)]),c("p",M,[R,b(" "+v(null==(l=null==a?void 0:a.branch)?void 0:l.name)+" (uno de sus locales)",1)])])])})),128)):r("",!0)])])])]),c("div",S,[c("div",$,[c("div",D,[H,c("div",J,[0!=ea.value.length?(s(),n("div",Q,[(s(!0),n(i,null,u(ea.value,(a=>(s(),n("div",{class:"col-12 col-md-6",key:a},[c("div",W,[c("div",X,[c("b",null,v(a.description)+":",1)]),c("div",Y,v(a.value),1)])])))),128))])):r("",!0)])])])])]))}},aa={class:"navbar fixed-top navbar-expand-lg navbar-dark bg-primary"},ea={class:"container p-0"},la=f('<a class="navbar-brand" href="#/dashboard" data-v-d13e99e7><div class="row align-items-center justify-content-center" data-v-d13e99e7><div class="col" data-v-d13e99e7><b class="ml-3" data-v-d13e99e7>Precios de Tandil</b></div></div></a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" data-v-d13e99e7><span class="navbar-toggler-icon" data-v-d13e99e7></span></button>',2),sa={class:"d-flex"},na={class:"w-100",id:"cont_busca"},ca={class:"row align-items-center justify-content-center"},ta={class:"col-auto p-0 mr-1"},da=["onKeyup"],oa=f('<div class="collapse navbar-collapse" id="navbarNav" data-v-d13e99e7><ul class="navbar-nav ml-auto p-3" data-v-d13e99e7><li class="nav-item" data-v-d13e99e7><a class="nav-link active" href="#/dashboard" data-v-d13e99e7>Buscador</a></li><li class="nav-item" data-v-d13e99e7><a class="nav-link" href="#/novedades" data-v-d13e99e7>Novedades</a></li></ul></div>',1),ra=m({__name:"LandingGeneral",setup(a){const l=e(""),r=e(),u=e();async function v(){null!=await u.value.buscar(l.value)&&r.value.focus()}return(a,e)=>(s(),n(i,null,[c("nav",aa,[c("div",ea,[la,c("div",sa,[c("div",na,[c("div",ca,[c("div",ta,[t(c("input",{class:"form-control me-2","onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),type:"text",placeholder:"Por ej: Manzana","aria-label":"Buscar",onKeyup:o(v,["enter"]),ref_key:"caja_busqueda",ref:r},null,40,da),[[d,l.value]])]),c("div",{class:"col-auto p-0"},[c("button",{class:"btn btn-success",type:"button",onClick:v},"Buscar")])])])]),oa])]),g(Z,{ref_key:"busqueda_y_carga",ref:u},null,512)],64))}},[["__scopeId","data-v-d13e99e7"]]);export{ra as default};
